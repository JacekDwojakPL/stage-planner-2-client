const map = {
  instruments: [
    {
      name: 'Violin I',
      short_name: 'VN I',
      type: 'string',
      y: 14,
      x: 8,
      instrument_number: 1,
      id: '15af22d6-d281-4ebb-b67a-b066777e9fef',
    },
    {
      name: 'Violin I',
      short_name: 'VN I',
      type: 'string',
      y: 13,
      x: 8,
      instrument_number: 2,
      id: '97a2ce17-657b-46fe-af73-4bbac3f0f71a',
    },
    {
      name: 'Violin I',
      short_name: 'VN I',
      type: 'string',
      y: 14,
      x: 7,
      instrument_number: 3,
      id: '43655e73-485e-48f1-ba10-890b3ffd9098',
    },
    {
      name: 'Violin I',
      short_name: 'VN I',
      type: 'string',
      y: 13,
      x: 7,
      instrument_number: 4,
      id: '3680442a-2eeb-4a17-976e-02a220619a3b',
    },
    {
      name: 'Violin I',
      short_name: 'VN I',
      type: 'string',
      y: 14,
      x: 6,
      instrument_number: 5,
      id: '72eb87d4-cb82-4dba-be0a-10fda08b899e',
    },
    {
      name: 'Violin I',
      short_name: 'VN I',
      type: 'string',
      y: 13,
      x: 6,
      instrument_number: 6,
      id: 'a67b3593-3755-4cd2-baad-86ea55b3869a',
    },
    {
      name: 'Violin I',
      short_name: 'VN I',
      type: 'string',
      y: 14,
      x: 5,
      instrument_number: 7,
      id: '1e3e08bf-c5e0-482f-8408-44613a4ad8da',
    },
    {
      name: 'Violin I',
      short_name: 'VN I',
      type: 'string',
      y: 13,
      x: 5,
      instrument_number: 8,
      id: 'db2ca92f-fd14-460c-adfc-5b9e50bf14ed',
    },
    {
      name: 'Violin I',
      short_name: 'VN I',
      type: 'string',
      y: 14,
      x: 4,
      instrument_number: 9,
      id: 'a3943893-1f3d-4222-92d1-397a00f813df',
    },
    {
      name: 'Violin I',
      short_name: 'VN I',
      type: 'string',
      y: 13,
      x: 4,
      instrument_number: 10,
      id: '19bc623a-48bf-4c6c-8d77-494670a29787',
    },
    {
      name: 'Violin I',
      short_name: 'VN I',
      type: 'string',
      y: 12,
      x: 4,
      instrument_number: 11,
      id: 'a4ab5d5e-c471-428b-930e-4ccb6ce70ffc',
      converted_x: 150,
      converted_y: 700,
    },
    {
      name: 'Violin I',
      short_name: 'VN I',
      type: 'string',
      y: 11,
      x: 4.5,
      instrument_number: 12,
      id: '671367e3-9e55-4222-ae0d-e64f0462bf98',
      converted_x: 150,
      converted_y: 650,
    },
    {
      name: 'Violin I',
      short_name: 'VN I',
      type: 'string',
      y: 14,
      x: 3,
      instrument_number: 13,
      id: '0490ec94-6913-404d-b9f5-849461346b8f',
      converted_x: 100,
      converted_y: 700,
    },
    {
      name: 'Violin I',
      short_name: 'VN I',
      type: 'string',
      y: 13,
      x: 3,
      instrument_number: 14,
      id: 'c5935c20-2685-4d5a-8f38-6ca885779e76',
      converted_x: 100,
      converted_y: 650,
    },
    {
      name: 'Violin I',
      short_name: 'VN I',
      type: 'string',
      y: 11,
      x: 3.5,
      instrument_number: 16,
      id: 'b13b8226-d2dd-4868-82a5-6e3524efe2bc',
      converted_x: 50,
      converted_y: 650,
    },
    {
      name: 'Violin I',
      short_name: 'VN I',
      type: 'string',
      y: 12,
      x: 3,
      instrument_number: 15,
      id: '1385ee0d-7d15-4556-a80b-bcbbf9f3bbc8',
      converted_x: 50,
      converted_y: 700,
    },
  ],
  dimensions: {
    width: 18,
    height: 15,
    unit: 5,
    zoom: 100,
  },
  selected: {
    name: 'Violin I',
    short_name: 'VN I',
    type: 'string',
    y: 11,
    x: 3.5,
    instrument_number: 15,
    id: '1385ee0d-7d15-4556-a80b-bcbbf9f3bbc8',
    converted_x: 50,
    converted_y: 700,
  },
};

map.instruments.sort((a, b) =>
  a.instrument_number > b.instrument_number ? 1 : -1
);

const { x, y } = map.instruments[0];
const output = [];

for (let i = 0; i < map.instruments.length; i++) {
  const offset_x = x - map.instruments[i].x;
  const offset_y = y - map.instruments[i].y;
  output.push({
    offset_x,
    offset_y,
    instrument_number: map.instruments[i].instrument_number,
  });
}

export default output;
